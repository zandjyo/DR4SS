% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/LLCPUE.r
\name{get_LLCPUE}
\alias{get_LLCPUE}
\title{Get longline observer CPUE haul records from AKFIN and create seasonal subsets}
\usage{
get_LLCPUE(
  con_akfin,
  target_codes,
  species_codes,
  spring_months = c(1L, 2L),
  fall_months = c(9L, 10L)
)
}
\arguments{
\item{con_akfin}{A DBI connection to the AKFIN database (must have access to
\code{council.comprehensive_obs}).}

\item{target_codes}{Numeric vector of trip target code(s) to include (length 1+).}

\item{species_codes}{Numeric vector of observed species code(s) to include (length 1+).}

\item{spring_months}{Integer months defining "spring" (default \code{c(1,2)}).}

\item{fall_months}{Integer months defining "fall" (default \code{c(9,10)}).}
}
\value{
A named list with elements:
\describe{
\item{all}{All filtered haul records (data.table; uppercased column names).}
\item{spring}{Subset where \code{MONTH} in \code{spring_months}.}
\item{fall}{Subset where \code{MONTH} in \code{fall_months}.}
}

Added/standardized columns:
\itemize{
\item \code{DATE1}: formatted haul date (\code{mm/dd/YYYY})
\item \code{MONTH}: numeric month from \code{HAUL_DATE}
}
}
\description{
Runs the packaged SQL template \code{LL_CPUE.sql} against an AKFIN connection
(schema \code{council.comprehensive_obs}) to retrieve longline (gear code 8)
observer haul records filtered by trip target code(s) and observed species code(s).
}
\details{
The function then standardizes key numeric fields, derives date/month fields,
and returns both the full dataset and seasonal subsets (spring and fall).

The SQL template must contain the placeholder flags:
\itemize{
\item \code{-- insert target}  (after \code{trip_target_code})
\item \code{-- insert species} (after \code{obs_specie_code})
}

This function relies on package utilities \code{sql_reader()}, \code{sql_filter()},
and \code{sql_run()} from \code{sql_utils.R}. Place \code{LL_CPUE.sql} in
\code{inst/extdata/sql/}.
}
