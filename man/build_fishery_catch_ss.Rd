% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_fishery_catch_ss.R
\name{build_fishery_catch_ss}
\alias{build_fishery_catch_ss}
\title{Build Stock Synthesis catch table from AKFIN catch query}
\usage{
build_fishery_catch_ss(
  con,
  final_year,
  fsh_sp_label,
  fsh_sp_area,
  one_fleet = TRUE,
  old_seas_gear_catch = OLD_SEAS_GEAR_CATCH,
  catch_total = NULL,
  catch_se = 0.01,
  init_catch = 42500
)
}
\arguments{
\item{con}{DBI connection to AKFIN.}

\item{final_year}{Last fishery year to include (used in SQL filter).}

\item{fsh_sp_label}{Species label used in catch SQL filter (as used in your SQL).}

\item{fsh_sp_area}{Subarea filter used in catch SQL.}

\item{one_fleet}{Logical; if TRUE aggregate all gears into fleet 1.}

\item{old_seas_gear_catch}{Optional data.frame/data.table of historical catch to prepend.
Expected columns include YEAR, GEAR, and TONS (or similar; see details).}

\item{catch_total}{Optional fallback catch table (legacy behavior) if old catch provided is NULL.}

\item{catch_se}{Catch SE value used in output table.}

\item{init_catch}{Optional initialization (-999) row catch value.
If one_fleet=TRUE, uses one row with this catch; if FALSE, uses 0 rows for fleets 1:3 (like your legacy block).}
}
\value{
A list with elements:
\describe{
\item{catch}{data.frame with columns year,seas,fleet,catch,catch_se}
\item{N_catch}{nrow(catch)}
\item{catch_raw}{data.table of annual catch by YEAR and GEAR1 (post-merge)}
}
}
\description{
Reads dom_catch.sql from int/sql, runs it against AKFIN, harmonizes gears,
optionally aggregates to a single fleet, fills missing years with zeros,
and returns a Stock Synthesis catch table.
}
