% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/GET_SURVEY_LCOMP.r
\name{GET_SURVEY_LCOMP}
\alias{GET_SURVEY_LCOMP}
\title{Get survey length compositions from AKFIN and format for Stock Synthesis}
\usage{
GET_SURVEY_LCOMP(
  con_akfin,
  species = 21720,
  bins = seq(4.5, 119.5, 5),
  bin = TRUE,
  area = "BS",
  sex = 1,
  SS = TRUE,
  seas = 1,
  flt = 3,
  gender = 1,
  part = 0
)
}
\arguments{
\item{con_akfin}{A DBI connection to the AKFIN database.}

\item{species}{Numeric species code used by the SQL (e.g., 21720).}

\item{bins}{Numeric vector of SS length-bin lower edges
(e.g., \code{seq(3.5, 119.5, 1)}).}

\item{bin}{Logical; if TRUE, bin integer lengths into \code{bins} using
\code{BIN_LEN_DATA()}.}

\item{area}{Character area identifier: one of \code{"GOA"}, \code{"AI"},
\code{"BS"}, \code{"SLOPE"}.}

\item{sex}{Integer; \code{1} aggregates across sex (supported).
Other values return unformatted long data.}

\item{SS}{Logical; if TRUE, format output as an SS3 length-comp matrix
(requires \code{sex == 1}).}

\item{seas}{Integer SS season.}

\item{flt}{Integer SS fleet/survey index.}

\item{gender}{Integer SS gender code.}

\item{part}{Integer SS partition code.}
}
\value{
If \code{SS = TRUE} and \code{sex == 1}, a numeric matrix formatted
for Stock Synthesis. Otherwise, a data.frame/data.table of length
compositions.
}
\description{
Pulls survey length composition data and associated haul/sample counts from
the AKFIN database for a specified region and species. Length data may be
binned into Stock Synthesis (SS) length bins and optionally formatted into
the SS3 length-composition matrix layout (one row per year).
}
