% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SBSS_GET_ALL_DATA.R
\name{SBSS_GET_ALL_DATA}
\alias{SBSS_GET_ALL_DATA}
\title{Build all Stock Synthesis inputs for EBS/AI Pacific cod (DR4SS)}
\usage{
SBSS_GET_ALL_DATA(
  con_akfin = conn$akfin,
  con_afsc = conn$afsc,
  ly = 2025,
  area = "BS",
  sp_area = "BSAI",
  srv_sp_str = 21720,
  fsh_species = 202,
  fsh_sp_label = "PCOD",
  fsh_sp_area = "BS",
  one_fleet = FALSE,
  catch_se = 0.01,
  init_catch = 42500,
  do_LL = FALSE,
  LL_fleet = 3,
  LL_sp_region = "Bering Sea",
  LLsrv_start_yr = 1990,
  LL_seas = 7,
  srv_start_yr = 1977,
  len_bins = seq(4.5, 119.5, 5),
  max_age = 10,
  do_fsh_ewaa = TRUE,
  fsh_ewaa_split_sex = FALSE,
  do_fsh_lcomp = TRUE,
  fsh_lcomp_sex = TRUE,
  fsh_lcomp_port = TRUE,
  fsh_species_catch = fsh_sp_label,
  for_species_catch = NULL
)
}
\arguments{
\item{con_akfin}{DBI connection to AKFIN (required).}

\item{con_afsc}{DBI connection to AFSC (required for some survey/fishery helpers).}

\item{ly}{Last year to include (final assessment year / last fishery year).}

\item{area}{Survey area code used by survey functions (e.g. "BS","AI","GOA","SLOPE").}

\item{sp_area}{Fishery “area” selector passed into fishery length-by-catch and LL CPUE
SQL filters (your existing conventions; e.g. "BSAI" or "BS-NBS" depending on function).}

\item{srv_sp_str}{Survey species code (AKFIN survey code; e.g. 21720 for EBS PCOD).}

\item{fsh_species}{Fishery species code used by fishery EWAA and fishery SQL (e.g. 202).}

\item{fsh_sp_label}{Fishery species label used by fishery catch SQL filter (as used in your SQL).}

\item{fsh_sp_area}{Fishery subarea filter injected into dom_catch.sql (vector).}

\item{one_fleet}{Logical; if TRUE, aggregate fishery catch gears into fleet 1 in
\code{\link[=build_fishery_catch_ss]{build_fishery_catch_ss()}}.}

\item{do_LL}{Logical; if TRUE include longline survey RPN CPUE via \code{\link[=build_ll_cpue]{build_ll_cpue()}}.}

\item{LL_fleet}{Integer SS fleet number for the LL CPUE index (e.g. 3 or 5).}

\item{LL_sp_region}{Region filter injected into LL_RPN.sql (your existing convention).}

\item{LLsrv_start_yr}{First year to include in LL CPUE output.}

\item{LL_seas}{Season number for LL CPUE (default 7).}

\item{srv_start_yr}{Start year for survey biomass/comps pulls.}

\item{len_bins}{Length bins for survey length comps.}

\item{max_age}{Plus-group age for age comps and fishery EWAA outputs.}

\item{do_fsh_ewaa}{Logical; if TRUE run \code{\link[=fishery_ewaa]{fishery_ewaa()}}.}

\item{fsh_ewaa_split_sex}{Logical; if TRUE, fishery EWAA fits/predicts split by sex and
outputs F/M tables.}

\item{do_fsh_lcomp}{Logical; if TRUE run \code{\link[=LENGTH_BY_CATCH_short]{LENGTH_BY_CATCH_short()}}.}

\item{fsh_lcomp_sex}{Logical; passed to LENGTH_BY_CATCH_short(SEX=...).}

\item{fsh_lcomp_port}{Logical; passed to LENGTH_BY_CATCH_short(PORT=...).}

\item{fsh_species_catch}{Species code used by fishery catch/length SQL (can differ from survey).}

\item{for_species_catch}{Optional “foreign catch species” code used by LENGTH_BY_CATCH_short.}
}
\value{
Named list of SS inputs (and intermediate objects) suitable for writing into a
.dat file pipeline.
}
\description{
Wrapper that orchestrates the DR4SS data pulls/formatters for a single assessment
“area” (e.g., BS/AI/GOA) and returns a named list of SS-ready objects.

\strong{Key updates vs legacy wrapper}
\itemize{
\item Catch is built via \code{\link[=build_fishery_catch_ss]{build_fishery_catch_ss()}} (no inline SQL in the wrapper).
\item Longline RPN CPUE is built via \code{\link[=build_ll_cpue]{build_ll_cpue()}} and \strong{fleet number is user-specified}
(no \code{ONE_FLEET} logic to toggle index 3 vs 5).
\item Fishery EWAA is built via \code{\link[=fishery_ewaa]{fishery_ewaa()}} (optionally split by sex).
\item Fishery catch-weighted lcomp is built via \code{\link[=LENGTH_BY_CATCH_short]{LENGTH_BY_CATCH_short()}}.
}
}
